update pmd.bat, designer.bat, bgastviewer.*, cygwin-run.sh, cpd.jnlp, cpdgui.bat, build.xml to point to pmd-3.1.jar
update PMD.java, xdocs/running.xml, compiling.xml, integrations.xml, installing.xml to reflect pmd-3.1
update the release date in the changelog
move rules from "newrules.xml" into a real ruleset file, change unit tests to reflect new location
update rulesets/rulesets.properties - add any new ruleset file names
update release number and tag name in project.xml

ant clean test
Check in everything

ant dist test
Do all the JUnit tests run?  OK, then:
ant dist                

TESTS: Can you
1) run 1 file and get a report
./pmd.sh ~/tmp/Test.java xml rulesets/unusedcode.xml
./pmd.sh ~/tmp/Test.java html rulesets/unusedcode.xml
2) run the Ant 'pmd' task and get a report
ant pmd

cd ..
./docs.sh all
cd etc

Prepare binary release:
rm -rf ~/tmp/pmd-3.1
mkdir -p ~/tmp/pmd-3.1/etc
mkdir ~/tmp/pmd-3.1/bin
mkdir ~/tmp/pmd-3.1/lib
cp ../LICENSE.txt changelog.txt ~/tmp/pmd-3.1/etc
cd ../bin/
cp pmd.* cygwin-run.sh build.xml cpdgui.bat designer.* ~/tmp/pmd-3.1/bin
cd ../etc/
cp ../lib/pmd-3.1.jar ../lib/xmlParserAPIs-2.6.2.jar ../lib/xercesImpl-2.6.2.jar ../lib/jaxen-core-1.0-fcs.jar ../lib/saxpath-1.0-fcs.jar  ~/tmp/pmd-3.1/lib/
mkdir ~/tmp/pmd-3.1/etc/xslt
cp xslt/*.xslt ~/tmp/pmd-3.1/etc/xslt/
cp -R ../target/docs ~/tmp/pmd-3.1
cd ~/tmp
zip -q -r pmd-bin-3.1.zip pmd-3.1/
cd -

Time to tag:

CVSROOT=:ext:tomcopeland@cvs.sourceforge.net:/cvsroot/pmd && export CVSROOT
cd ../../
cvs -q tag -D tomorrow "pmd_release_3_1" pmd

Prepare source release:
rm -rf ~/tmp/pmd-3.1
rm -rf ~/tmp/pmd-src-3.1.zip
cd pmd/bin/
ant jarsrc
cd ../../
rm -rf tmp/
mkdir tmp
cd tmp
cvs -q export -r pmd_release_3_1 pmd
mv pmd/ pmd-3.1/
cd ..
cp pmd/lib/pmd-src-3.1.jar tmp/pmd-3.1/lib/
mv tmp/pmd-3.1/ ~/tmp/
cp pmd/lib/pmd-3.1.jar ~/tmp/pmd-3.1/lib
cp -R pmd/target/docs ~/tmp/pmd-3.1/
cd ~/tmp/
zip -q -r pmd-src-3.1.zip pmd-3.1/

if you see a bug and fix it, you can delete the release using:
cvs rtag -d pmd_release_3_1 pmd
and then retag everything

ncftpput upload.sourceforge.net incoming/ pmd-src-3.1.zip pmd-bin-3.1.zip

Go to Admin, Edit/Release Files, click on Add new release
Paste stuff into the changelog/readme boxes
Add the pmd-bin-3.1.zip file
Add the pmd-src-3.1.zip file
Classify the file

Redo the web site
cd ~/pmd/pmd
./docs.sh upload

Submit some news saying "hey, new release!"
Go to http://freshmeat.net/, say "hey, new release!"
