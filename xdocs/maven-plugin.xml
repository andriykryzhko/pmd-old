<?xml version="1.0"?>

<document>
  <properties>
    <author email="mikkey@users.sourceforge.net">Miguel Griffa</author>
    <title>Maven plugin</title>
  </properties>

  <body>
    <section name="Running the pmd plugin">
    	<subsection name="report">
    		<p>
    			To include the report in the project reports section add the following line under
    			the reports element in your project.xml:
    			<source><![CDATA[<report>maven-pmd-plugin</report>]]></source>
    			This will add an entry to the 'project reports' section with the PMD report.
    		</p>
    	</subsection>
    	<subsection name="manual">
    		<p>
    			To run pmd on a maven project, without adding it as a report, simply run
    			<source><![CDATA[maven pmd xdoc]]></source>
    			The pmd plugin writes the report in an xml format, the xdoc will process this
    			xml and format it to a more readable html.
    		</p>
    	</subsection>
    </section>
    <section name="Customization">
    	<subsection name="Changing rulesets">
    		<p>
    			To specify a set of official, built-in rulesets to be used set them in the property
    			<em>maven.pmd.rulesets</em>, you can write this in your project.properties file.
    		</p>
    		<p>
    		    A clean strategy for customizing which rules to use for a project is to write a ruleset file.
    		    In this file you can define which rules to use, as well as add custom rules, as well as 
    		    customizing which rules to include/exclude from official rulesets. More information on 
    		    writing a ruleset can be found <a href="howtomakearuleset.html">here</a>. 
   		    </p>
   		    <p>
   		        Add to the root of your maven project a pmd.xml file which contains the ruleset mentioned in 
   		        the previous paragraph. Add the following property to your project now:
   		        <source>maven.pmd.rulesetfiles = ${basedir}/pmd.xml</source>
	        </p>
    	</subsection>
    </section>
    <section name="Reference">
    	<p>
    		See the pmd plugin project page here: 
    		<a href="http://maven.apache.org/reference/plugins/pmd/">http://maven.apache.org/reference/plugins/pmd/</a>
    	</p>
   	</section>    
 </body>
</document>
