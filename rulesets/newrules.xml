<?xml version="1.0"?>

<ruleset name="newrules">
  <description>
These are new rules for the next release
  </description>

    <rule name="DontImportSunRule"
       message="Avoid importing anything from the 'sun.*' packages"
       class="net.sourceforge.pmd.rules.XPathRule">
       <description>
          Avoid importing anything from the 'sun.*' packages.  These packages are not portable and are likely to change.
       </description>
       <properties>
          <property name="xpath">
               <value>
<![CDATA[
   //ImportDeclaration
   [starts-with(Name/@Image, 'sun.')]
   [not(starts-with(Name/@Image, 'sun.misc.Signal'))]
]]>

               </value>
          </property>
       </properties>
       <priority>4</priority>

       <example>
<![CDATA[
   import sun.misc.foo;
   public class Foo {}
]]>
       </example>
    </rule>

    <rule name="EmptyFinalizer"
          message="Avoid empty finalize methods"
          class="net.sourceforge.pmd.rules.XPathRule">
       <description>
       If the finalize() method is empty, then it does not need to exist.
       </description>
        <properties>
            <property name="xpath">
                <value>
<![CDATA[
   //MethodDeclaration[MethodDeclarator[@Image='finalize'][not(FormalParameters/*)]]
      /Block[count(*)=0]
]]>
                </value>
            </property>
        </properties>
        <priority>3</priority>
       <example>
<![CDATA[
   public class Foo {
       public void finalize() {}
   }
]]>
       </example>
     </rule>

    <rule name="EmptyStaticInitializer"
           message="Empty static initializer was found"
           class="net.sourceforge.pmd.rules.XPathRule">
       <description>
       An empty static initializer was found.
       </description>
         <properties>
             <property name="xpath">
                 <value>
<![CDATA[
//ClassBodyDeclaration/Initializer[@Static='true']/Block[count(*)=0]
]]>
                 </value>
             </property>
         </properties>
         <priority>3</priority>
       <example>
   <![CDATA[
 public class Foo {
  // why are there no statements in this static block?
  static {}
 }
   ]]>
       </example>
     </rule>


</ruleset>


